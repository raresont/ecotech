{"version":3,"sources":["webpack:///./src/app/pages/message/message-detail-routing.module.ts","webpack:///./src/app/pages/message/message.module.ts","webpack:///./src/app/pages/message/message.page.html","webpack:///./src/app/pages/message/message.page.ts","webpack:///./src/app/providers/conference-data.ts"],"names":[],"mappings":"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","file":"pages-message-message-module~pages-tabs-page-tabs-page-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { MessagePage } from './message.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MessagePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SessionMessagePageRoutingModule { }\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MessagePage } from './message.page';\n\nimport { SessionMessagePageRoutingModule } from './message-detail-routing.module';\n///import { File } from '@ionic-native/file';\n//import { FileTransfer } from '@ionic-native/file-transfer';\n//import { DocumentViewer } from '@ionic-native/document-viewer';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MessagePage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SessionMessagePageRoutingModule\n  ],\n  declarations: [MessagePage]\n//  ,\n // providers :[    File,\n //   DocumentViewer,\n  //  FileTransfer]\n})\nexport class MessagePageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button text=\\\"Message\\\" defaultHref=\\\"/app/tabs/(schedule:schedule)\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{session?.name}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content padding>\\n  <div *ngIf=\\\"session\\\">\\n    <div class=\\\"support-logo\\\" id=\\\"centeredTopImg\\\" style=\\\"text-align: center;\\\">\\n      <img id=\\\"centeredTopImg\\\" src=\\\"assets/img/Lidl-Logo.svg.png\\\" alt=\\\"Ionic Logo\\\" style=\\\"border-radius:50%;\\\">\\n    </div>\\n    <h1 class=\\\"centeredContent\\\" style=\\\"text-align: center;font-size:24px;\\\">\\n     <b> <i> Cluj-Napoca, Str.Regele Ferdinand, Nr. 22-26 </i> </b>\\n  <!---    {{session.tracks[0]}} -->\\n    </h1>\\n\\n      <h1 class=\\\"centeredContent\\\" style=\\\"text-align: center;font-size:15px;\\\">\\n          {{session.timeStart}}\\n      <!---    {{session.tracks[0]}} -->\\n      </h1>\\n   <!---   <p>{{session.location}}</p> -->\\n   <ion-grid>\\n   <ion-item *ngFor=\\\"let track of session.tracks\\\" [attr.track]=\\\"track.name | lowercase\\\">\\n\\n  <!--- <div class=\\\"item row\\\"> -->\\n      <ion-row>\\n     <!---  <span float-left class=\\\"col col-50\\\"col-3> -->\\n          <ion-col col-3>{{track.name}}</ion-col>\\n\\n      <!---     </span>\\n      <span float-right class=\\\"col col-50\\\" offset-3 col-3> -->\\n          <ion-col col-3 offset-3>{{track.price}}</ion-col>\\n        <!---     \\n          </span>\\n   </div>\\n  --><hr>\\n</ion-row>\\n\\n<hr>\\n   </ion-item>\\n\\n   <ion-row>\\n    <ion-col col-3></ion-col>\\n    <ion-col col-3>         Total</ion-col>\\n        <ion-col col-3 offset-3>{{track.total}}</ion-col>\\n  </ion-row>\\n\\n  </ion-grid>\\n  \\n<script></script>\\n\\n    <form #submitForm=\\\"ngForm\\\" novalidate (ngSubmit)=\\\"submit(submitForm)\\\">\\n      <!---\\n      <ion-list lines=\\\"none\\\">\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\" color=\\\"primary\\\">Enter a message to be displayed on the unit screen</ion-label>\\n          <ion-textarea [(ngModel)]=\\\"supportMessage\\\" name=\\\"supportQuestion\\\" #supportQuestion=\\\"ngModel\\\" rows=\\\"6\\\" required></ion-textarea>\\n        </ion-item>\\n      </ion-list>\\n  \\n      <ion-text color=\\\"danger\\\">\\n        <p [hidden]=\\\"supportQuestion.valid || submitted === false\\\" padding-left>\\n          A message is required\\n        </p>\\n      </ion-text>\\n    -->\\n      <div padding>\\n     <!---   <ion-button expand=\\\"block\\\" type=\\\"submit\\\" style=\\\"background:greenyellow !important;\\\">Receip list(PDF)</ion-button>\\n     --> <ion-button expand=\\\"block\\\" (click)=\\\"navigate('/app/tabs/(schedule:schedule)')\\\">View All Receipts</ion-button>\\n      </div>\\n    </form>\\n    <img id=\\\"centeredTopImg\\\" src=\\\"assets/img/Screenshot_5.png\\\" alt=\\\"Ionic Logo\\\">\\n  </div>\\n</ion-content>\\n<!---\\n<script src=\\\"https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js\\\"></script>\\n\\n-->\"","import { Component } from '@angular/core';\n\nimport { ConferenceData } from '../../providers/conference-data';\nimport { ActivatedRoute } from '@angular/router';\n//import { DocumentViewer,DocumentViewerOptions  } from '@ionic-native/document-viewer';\nimport { Router } from '@angular/router';\n///import { FileTransfer } from '@ionic-native/file-transfer';\n//import { File } from '@ionic-native/file';\n//import { FileOpener } from '@ionic-native/file-opener';\n\n@Component({\n  selector: 'message',\n  templateUrl: './message.page.html'\n})\nexport class MessagePage {\n  session: any;\n\n  constructor(\n    private dataProvider: ConferenceData,\n    private route: ActivatedRoute,\n    private router: Router\n    \n   // ,private document: DocumentViewer,\n   // private file: File,\n   // private transfer: FileTransfer\n    ) {}\n\n  ionViewWillEnter() {\n    console.log(\"t\");\n    this.dataProvider.load().subscribe((data: any) => {\n      if (\n        data //&&\n     //   data.name// &&\n     //   data.schedule[0] &&\n      //  data.schedule[0].groups\n      ) {\n        const sessionId = this.route.snapshot.paramMap.get('id').replace(\"%20\", \" \");\n  //     console.log(sessionId);\n        for (const group of data.schedule[0].groups) {\n          if (group && group.sessions) {\n            for (const session of group.sessions) {\n              console.log(\"failed here\");\n              if (session && session.name === sessionId) {\n                console.log(sessionId);\n                this.session = session;\n                break;\n              }\n            }\n          }\n        }\n      }\n    });\n  }\n  generatePDF() {\n   // const options: DocumentViewerOptions = {\n   //   title: 'My PDF'\n  //  }\n   // this.document.viewDocument('assets/img/bon_bun.pdf', 'application/pdf', options);\n  }\n  navigate(url: string) {\n    return this.router.navigateByUrl(url);\n  }\n\n}\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { of } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { UserData } from './user-data';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ConferenceData {\r\n  data: any;\r\n\r\n  constructor(public http: HttpClient, public user: UserData) {}\r\n\r\n  load(): any {\r\n    if (this.data) {\r\n      return of(this.data);\r\n    } else {\r\n      return this.http\r\n        .get('assets/data/data.json')\r\n        .pipe(map(this.processData, this));\r\n    }\r\n  }\r\n\r\n  processData(data: any) {\r\n    // just some good 'ol JS fun with objects and arrays\r\n    // build up the data by linking speakers to sessions\r\n    this.data = data;\r\n\r\n    this.data.tracks = [];\r\n    this.data.tracks1 = [];\r\n    // loop through each day in the schedule\r\n    this.data.schedule.forEach((day: any) => {\r\n      // loop through each timeline group in the day\r\n      day.groups.forEach((group: any) => {\r\n        // loop through each session in the timeline group\r\n        group.sessions.forEach((session: any) => {\r\n          session.speakers = [];\r\n          if (session.speakerNames) {\r\n            session.speakerNames.forEach((speakerName: any) => {\r\n              const speaker = this.data.speakers.find(\r\n                (s: any) => s.name === speakerName\r\n              );\r\n              if (speaker) {\r\n                session.speakers.push(speaker);\r\n                speaker.sessions = speaker.sessions || [];\r\n                speaker.sessions.push(session);\r\n              }\r\n            });\r\n          }\r\n\r\n          if (session.tracks) {\r\n            session.tracks.forEach((track: any) => {\r\n              if (this.data.tracks.indexOf(track) < 0) {\r\n                this.data.tracks.push(track);\r\n              }\r\n            });\r\n          }\r\n          if (session.tracks1) {\r\n            session.tracks1.forEach((track1: any) => {\r\n              if (this.data.tracks1.indexOf(track1) < 0) {\r\n                this.data.tracks1.push(track1);\r\n              }\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    return this.data;\r\n  }\r\n\r\n  getTimeline(\r\n    dayIndex: number,\r\n    queryText = '',\r\n    excludeTracks: any[] = [],\r\n    segment = 'all'\r\n  ) {\r\n    return this.load().pipe(\r\n      map((data: any) => {\r\n        const day = data.schedule[dayIndex];\r\n        day.shownSessions = 0;\r\n\r\n        queryText = queryText.toLowerCase().replace(/,|\\.|-/g, ' ');\r\n        const queryWords = queryText.split(' ').filter(w => !!w.trim().length);\r\n\r\n        day.groups.forEach((group: any) => {\r\n          group.hide = true;\r\n\r\n          group.sessions.forEach((session: any) => {\r\n            // check if this session should show or not\r\n            this.filterSession(session, queryWords, excludeTracks, segment);\r\n\r\n            if (!session.hide) {\r\n              // if this session is not hidden then this group should show\r\n              group.hide = false;\r\n              day.shownSessions++;\r\n            }\r\n          });\r\n        });\r\n\r\n        return day;\r\n      })\r\n    );\r\n  }\r\n\r\n  filterSession(\r\n    session: any,\r\n    queryWords: string[],\r\n    excludeTracks: any[],\r\n    segment: string\r\n  ) {\r\n    let matchesQueryText = false;\r\n    if (queryWords.length) {\r\n      // of any query word is in the session name than it passes the query test\r\n      queryWords.forEach((queryWord: string) => {\r\n        if (session.name.toLowerCase().indexOf(queryWord) > -1) {\r\n          matchesQueryText = true;\r\n        }\r\n      });\r\n    } else {\r\n      // if there are no query words then this session passes the query test\r\n      matchesQueryText = true;\r\n    }\r\n\r\n    // if any of the sessions tracks are not in the\r\n    // exclude tracks then this session passes the track test\r\n    let matchesTracks = false;\r\n    session.tracks.forEach((trackName: string) => {\r\n      if (excludeTracks.indexOf(trackName) === -1) {\r\n        matchesTracks = true;\r\n      }\r\n    });\r\n\r\n    // if the segement is 'favorites', but session is not a user favorite\r\n    // then this session does not pass the segment test\r\n    let matchesSegment = false;\r\n    if (segment === 'favorites') {\r\n      if (this.user.hasFavorite(session.name)) {\r\n        matchesSegment = true;\r\n      }\r\n    } else {\r\n      matchesSegment = true;\r\n    }\r\n\r\n    // all tests must be true if it should not be hidden\r\n    session.hide = !(matchesQueryText && matchesTracks && matchesSegment);\r\n  }\r\n\r\n  getSpeakers() {\r\n    return this.load().pipe(\r\n      map((data: any) => {\r\n        return data.speakers.sort((a: any, b: any) => {\r\n          const aName = a.name.split(' ').pop();\r\n          const bName = b.name.split(' ').pop();\r\n          return aName.localeCompare(bName);\r\n        });\r\n      })\r\n    );\r\n  }\r\n\r\n  getTracks() {\r\n    return this.load().pipe(\r\n      map((data: any) => {\r\n    //    var test: any = {};\r\n    //    test.tracks = data.tracks;\r\n    //    test.location = data.location;\r\n      //  return data.tracks.sort();\r\n        return data.tracks1.sort();\r\n     //  return test;\r\n      })\r\n    );\r\n  }\r\n\r\n  getTracksWithId() {\r\n    \r\n    return this.load().pipe(\r\n      map((data: any) => {\r\n        var angular: any;\r\n        return angular.extend(data.tracks, data.id ).sort();\r\n      })\r\n    );\r\n  }\r\n\r\n  getTrackId(id: number) {\r\n    return this.load().pipe(\r\n    //  map(data => data.filter(data => data.id == id)\r\n    );\r\n  }\r\n\r\n\r\n  getMap() {\r\n    return this.load().pipe(\r\n      map((data: any) => {\r\n        return data.map;\r\n      })\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}